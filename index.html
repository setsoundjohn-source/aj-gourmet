<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Alain Janoleviah Gourmet ‚Äî Sp√©cialit√©s fran√ßaises livr√©es dans le monde</title>
  <meta name="description" content="Caviar, foie gras, vins & √©picerie fine. Exp√©dition mondiale avec tarifs de livraison en temps r√©el au paiement. Service premium pour particuliers." />
  <meta property="og:title" content="Alain Janoleviah Gourmet" />
  <meta property="og:description" content="Le meilleur de la gastronomie fran√ßaise, livr√© partout dans le monde." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="assets/hero.jpg" />
  <link rel="icon" type="image/png" sizes="32x32" href="assets/logo_C_emblem_dark_32.png">
  <link rel="icon" type="image/png" sizes="180x180" href="assets/logo_C_emblem_dark_180.png">
  <link rel="icon" type="image/png" sizes="512x512" href="assets/logo_C_emblem_dark_512.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:wght@500;600;700&display=swap" rel="stylesheet">

  <!-- ‚úÖ DATA: un seul bloc, dans le <head> -->
  <script id="site-data" type="application/json">{
    "brand":{"name":"Alain Janoleviah Gourmet","domain":"alainjanoleviahgourmet.com","logo":{"primary_svg":"assets/logo_A_dark.svg","primary_png":"assets/logo_A_header_dark.png","emblem_svg":"assets/logo_C_emblem_dark.svg","favicons":{"512":"assets/logo_C_emblem_dark_512.png","180":"assets/logo_C_emblem_dark_180.png","32":"assets/logo_C_emblem_dark_32.png"}},"tagline":"","colors":{"primary":"#0B0B0F","secondary":"#F5F5F7","accent":"#CBA135","accent_alt":"#701A1A","background":"#0B0B0F","text":"#F5F5F7"},"typography":{"heading":"Playfair Display","body":"Inter"},"tone":"premium"},
    "catalog":[
      {"category":"Charcuterie & salaisons","products":[
        {"sku":"SAL-NAT-250","title":"Saucisson sec pur porc 250 g","subtitle":"Recette traditionnelle","price_eur":8.9,"tax_included":true,"net_weight_g":250,"package_size_cm":[20,10,6],"gross_weight_kg":0.35,"volumetric_weight_kg":0.24,"ingredients":"Porc, sel, poivre, √©pices","allergens":[],"origin_region":"Auvergne","labels":[],"storage":"ambiant","dlc_dluo":"P6M","hs_code":"160100","shipping_flags":[],"images":["https://images.unsplash.com/photo-1604908554049-9be5f3a850e3?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"SAL-TRUF-250","title":"Saucisson sec √† la truffe 250 g","subtitle":"Ar√¥mes d√©licats de truffe","price_eur":14.9,"tax_included":true,"net_weight_g":250,"package_size_cm":[20,10,6],"gross_weight_kg":0.35,"volumetric_weight_kg":0.24,"ingredients":"Porc, truffe, sel, poivre","allergens":[],"origin_region":"Provence","labels":[],"storage":"ambiant","dlc_dluo":"P6M","hs_code":"160100","shipping_flags":[],"images":["https://images.unsplash.com/photo-1625944621729-6d9b570b2ed1?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"Foie gras & terrines","products":[
        {"sku":"FOG-ENT-180","title":"Foie gras de canard entier 180 g","subtitle":"Bocal premium","price_eur":49.0,"tax_included":true,"net_weight_g":180,"package_size_cm":[12,12,10],"gross_weight_kg":0.55,"volumetric_weight_kg":0.29,"ingredients":"Foie gras de canard, sel, poivre","allergens":[],"origin_region":"Sud-Ouest","labels":["IGP"],"storage":"ambiant","dlc_dluo":"P12M","hs_code":"160232","shipping_flags":[],"images":["https://images.unsplash.com/photo-1623065425909-0d4fba07f657?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"FOG-BLOC-200","title":"Foie gras de canard bloc 200 g","subtitle":"Texture onctueuse","price_eur":32.0,"tax_included":true,"net_weight_g":200,"package_size_cm":[14,8,8],"gross_weight_kg":0.4,"volumetric_weight_kg":0.18,"ingredients":"Foie gras de canard, eau, sel, poivre","allergens":[],"origin_region":"Sud-Ouest","labels":[],"storage":"ambiant","dlc_dluo":"P12M","hs_code":"160232","shipping_flags":[],"images":["https://images.unsplash.com/photo-1608710928290-8bd2e6a4a7b9?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"Caviar & fumaisons","products":[
        {"sku":"CAV-BAE-30","title":"Caviar Baeri 30 g","subtitle":"Grains fins","price_eur":69.0,"tax_included":true,"net_weight_g":30,"package_size_cm":[10,10,6],"gross_weight_kg":0.2,"volumetric_weight_kg":0.12,"ingredients":"≈íufs d‚Äôesturgeon, sel","allergens":["poisson"],"origin_region":"Aquitaine","labels":[],"storage":"frais","dlc_dluo":"P3M","hs_code":"160431","shipping_flags":["perishable","fragile"],"images":["https://images.unsplash.com/photo-1614112213922-5a7e7fe61a58?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"CAV-OSC-50","title":"Caviar Oscietra 50 g","subtitle":"Notes de noisette","price_eur":139.0,"tax_included":true,"net_weight_g":50,"package_size_cm":[12,12,6],"gross_weight_kg":0.25,"volumetric_weight_kg":0.17,"ingredients":"≈íufs d‚Äôesturgeon, sel","allergens":["poisson"],"origin_region":"Nouvelle-Aquitaine","labels":[],"storage":"frais","dlc_dluo":"P3M","hs_code":"160431","shipping_flags":["perishable","fragile"],"images":["https://images.unsplash.com/photo-1619533394724-1cbbd10b9d65?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"Vins & spiritueux","products":[
        {"sku":"VIN-BDX-R-075","title":"Bordeaux AOC Rouge 0,75 L","subtitle":"Cuv√©e signature","price_eur":19.0,"tax_included":true,"net_weight_g":750,"package_size_cm":[33,10,10],"gross_weight_kg":1.6,"volumetric_weight_kg":0.66,"origin_region":"Bordeaux","labels":["AOC"],"storage":"ambiant","dlc_dluo":"N/A","hs_code":"220421","shipping_flags":["alcohol","fragile"],"age_gate":true,"images":["https://images.unsplash.com/photo-1533488765986-dfa2a9939acd?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"VIN-CHMP-BRUT-075","title":"Champagne Brut 0,75 L","subtitle":"Non-mill√©sim√©","price_eur":39.0,"tax_included":true,"net_weight_g":750,"package_size_cm":[33,11,11],"gross_weight_kg":1.8,"volumetric_weight_kg":0.8,"origin_region":"Champagne","labels":["AOC"],"storage":"ambiant","dlc_dluo":"N/A","hs_code":"220421","shipping_flags":["alcohol","fragile"],"age_gate":true,"images":["https://images.unsplash.com/photo-1543087903-1ac2ec7aa8c5?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"SPI-COG-VSOP-070","title":"Cognac VSOP 0,7 L","subtitle":"√âlevage en f√ªts","price_eur":59.0,"tax_included":true,"net_weight_g":700,"package_size_cm":[32,10,10],"gross_weight_kg":1.5,"volumetric_weight_kg":0.64,"origin_region":"Cognac","labels":[],"storage":"ambiant","dlc_dluo":"N/A","hs_code":"220820","shipping_flags":["alcohol","fragile"],"age_gate":true,"images":["https://images.unsplash.com/photo-1586999687730-80ed03c08b26?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"√âpicerie sucr√©e & sal√©e","products":[
        {"sku":"COND-MOUT-DIJ-200","title":"Moutarde de Dijon 200 g","subtitle":"Go√ªt authentique","price_eur":4.9,"tax_included":true,"net_weight_g":200,"package_size_cm":[9,6,6],"gross_weight_kg":0.35,"volumetric_weight_kg":0.07,"ingredients":"Eau, graines de moutarde, vinaigre, sel","allergens":["moutarde"],"origin_region":"Bourgogne","labels":[],"storage":"ambiant","dlc_dluo":"P12M","hs_code":"210330","shipping_flags":[],"images":["https://images.unsplash.com/photo-1551024709-8f23befc6cf7?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"CONF-FIG-250","title":"Confiture de figues 250 g","subtitle":"Cuisson douce","price_eur":6.9,"tax_included":true,"net_weight_g":250,"package_size_cm":[9,7,7],"gross_weight_kg":0.45,"volumetric_weight_kg":0.09,"ingredients":"Figues, sucre, pectine","allergens":[],"origin_region":"Provence","labels":[],"storage":"ambiant","dlc_dluo":"P18M","hs_code":"200799","shipping_flags":[],"images":["https://images.unsplash.com/photo-1570197571499-166b36435e9f?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"Coffrets cadeaux","products":[
        {"sku":"BOX-APERO-001","title":"Coffret Ap√©ro Fran√ßais","subtitle":"S√©lection conviviale","price_eur":69.0,"tax_included":true,"net_weight_g":1300,"package_size_cm":[35,25,12],"gross_weight_kg":1.8,"volumetric_weight_kg":2.1,"contents":["SAL-NAT-250","COND-MOUT-DIJ-200","VIN-BDX-R-075","Cornichons 210 g"],"shipping_flags":["fragile","alcohol"],"age_gate":true,"images":["https://images.unsplash.com/photo-1551024709-8f23befc6cf7?q=80&w=1200&auto=format&fit=crop"]}
      ]},
      {"category":"Multimedia","note":"Derni√®res versions ‚Äî aucune restriction de livraison, y compris Am√©rique du Sud","products":[
        {"sku":"PHN-IPH-PRO-256","title":"Smartphone iPhone Pro 256 Go","subtitle":"√âcran haute fr√©quence, photo avanc√©e","price_eur":1299.0,"tax_included":true,"specs":{"storage":"256 Go","screen":"6.1‚Äì6.7\"","connectivity":"5G","region_bands":"global"},"package_size_cm":[18,10,6],"gross_weight_kg":0.6,"volumetric_weight_kg":0.22,"hs_code":"851713","shipping_flags":["fragile"],"images":["https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"PHN-SAM-S-ULTRA-256","title":"Smartphone Samsung Galaxy S Ultra 256 Go","subtitle":"Zoom longue port√©e","price_eur":1199.0,"tax_included":true,"specs":{"storage":"256 Go","screen":"6.8\"","connectivity":"5G"},"package_size_cm":[18,10,6],"gross_weight_kg":0.62,"volumetric_weight_kg":0.22,"hs_code":"851713","shipping_flags":["fragile"],"images":["https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"EAR-TWS-PREM","title":"√âcouteurs True Wireless premium","subtitle":"R√©duction de bruit avanc√©e","price_eur":199.0,"tax_included":true,"specs":{"battery":"24 h","charging":"USB-C / sans fil"},"package_size_cm":[12,9,5],"gross_weight_kg":0.25,"volumetric_weight_kg":0.11,"hs_code":"851830","shipping_flags":[],"images":["https://images.unsplash.com/photo-1585386959984-a4155223165f?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"WATCH-PREM-45","title":"Montre connect√©e 45 mm","subtitle":"Sant√© & sport, GPS","price_eur":449.0,"tax_included":true,"specs":{"size":"45 mm","water":"50 m"},"package_size_cm":[12,12,8],"gross_weight_kg":0.4,"volumetric_weight_kg":0.15,"hs_code":"851762","shipping_flags":[],"images":["https://images.unsplash.com/photo-1511735111819-9a3f7709049c?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"TAB-11-256","title":"Tablette 11\" 256 Go","subtitle":"√âcran haut d√©bit, stylet compatible","price_eur":799.0,"tax_included":true,"specs":{"screen":"11\"","storage":"256 Go"},"package_size_cm":[28,20,6],"gross_weight_kg":0.9,"volumetric_weight_kg":0.67,"hs_code":"847130","shipping_flags":["fragile"],"images":["https://images.unsplash.com/photo-1510554298352-53f3b5f4f025?q=80&w=1200&auto=format&fit=crop"]},
        {"sku":"LAP-14-PRO","title":"Ordinateur portable 14\" Pro","subtitle":"Ch√¢ssis l√©ger, performance avanc√©e","price_eur":1799.0,"tax_included":true,"specs":{"screen":"14\"","ram":"16 Go","storage":"512 Go SSD"},"package_size_cm":[40,30,8],"gross_weight_kg":2.1,"volumetric_weight_kg":1.92,"hs_code":"847130","shipping_flags":["fragile"],"images":["https://images.unsplash.com/photo-1517336714731-489689fd1ca8?q=80&w=1200&auto=format&fit=crop"]}
      ]}
    ]
  }</script>

  <style>
    :root{
      --bg:#0B0B0F; --fg:#F5F5F7; --gold:#CBA135; --bordeaux:#701A1A; --muted:#9CA3AF;
      --card:rgba(255,255,255,.04); --line:rgba(255,255,255,.1);
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--fg);font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif}
    a{color:inherit}
    .container{max-width:1200px;margin:0 auto;padding:0 20px}
    header{position:sticky;top:0;z-index:50;background:rgba(11,11,15,.85);backdrop-filter:blur(8px);border-bottom:1px solid var(--line)}
    .nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:14px}
    .logo{display:block;width:220px;max-width:60vw}
    .logo svg{width:100%;height:auto;display:block}
    .nav-actions{display:flex;align-items:center;gap:10px}
    .btn, button{appearance:none;border:1px solid var(--line);background:transparent;color:var(--fg);padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer}
    .btn:hover,button:hover{background:rgba(255,255,255,.06)}
    .pill{border-radius:999px;padding:8px 12px}
    main{display:block}
    .hero{padding:54px 0 32px;border-bottom:1px solid var(--line)}
    .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:24px}
    .hero h1{font-family:"Playfair Display",serif;font-weight:700;line-height:1.08;margin:0 0 12px;font-size:clamp(28px,4vw,48px)}
    .sub{opacity:.9;margin:0 0 18px}
    .cta{display:flex;gap:10px;flex-wrap:wrap}
    .primary{background:var(--gold);border-color:var(--gold);color:#111}
    .primary:hover{filter:brightness(1.05)}
    .card{background:var(--card);border:1px solid var(--line);border-radius:18px;padding:18px}
    .shadow{box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .imgbox{border-radius:16px;overflow:hidden;height:100%;background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.02));display:grid;place-items:center;min-height:220px}
    .value{padding:34px 0}
    .value h2,.section h2{font-family:"Playfair Display",serif;font-size:clamp(22px,3vw,32px);margin:0 0 16px}
    .grid3{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .feat{padding:24px 0}
    .gridcats{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .cat{position:relative;overflow:hidden;border-radius:16px;border:1px solid var(--line)}
    .cat img{width:100%;height:220px;object-fit:cover;display:block;filter:saturate(.9)}
    .cat .cap{position:absolute;left:12px;bottom:12px;background:rgba(11,11,15,.6);backdrop-filter:blur(6px);padding:10px 12px;border-radius:12px;border:1px solid var(--line);font-weight:700}
    .section{padding:34px 0}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .product{background:var(--card);border:1px solid var(--line);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
    .product img{width:100%;height:200px;object-fit:cover}
    .pbody{padding:14px;display:flex;flex-direction:column;gap:10px}
    .price{font-weight:800}
    .muted{color:var(--muted)}
    footer{border-top:1px solid var(--line);padding:28px 0;margin-top:36px}
    .footergrid{display:grid;grid-template-columns:2fr 1fr 1fr;gap:18px}
    .lang{display:flex;gap:6px}
    .badge{display:inline-flex;align-items:center;gap:8px;background:rgba(203,161,53,.12);border:1px solid rgba(203,161,53,.35);color:var(--gold);padding:8px 12px;border-radius:999px;font-weight:700;font-size:.9rem}
    .notice{font-size:.9rem;opacity:.9}
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.6);display:none;align-items:center;justify-content:center;padding:20px}
    .modal.active{display:flex}
    .modal .panel{background:#111214;border:1px solid var(--line);border-radius:18px;max-width:520px;width:100%;padding:20px}

    @media (max-width:960px){
      .hero-grid{grid-template-columns:1fr}
      .grid3,.gridcats,.grid{grid-template-columns:1fr}
      .footergrid{grid-template-columns:1fr}
      .logo{width:180px}
    }
  </style>
</head>
<body>
  <header>
    <div class="container nav">
      <a class="logo" href="#" aria-label="Alain Janoleviah Gourmet ‚Äî Accueil">
        <!-- Inline SVG Logo A (no subtitle) -->
        <svg viewBox="0 0 900 180" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Alain Janoleviah Gourmet">
          <text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle" fill="#F5F5F7" font-size="62" font-family="'Playfair Display', Georgia, serif" letter-spacing="2">ALAIN JANOLEVIAH</text>
        </svg>
      </a>
      <div class="nav-actions">
        <div class="lang" aria-label="S√©lecteur de langue">
          <button class="btn pill" data-lang="fr">FR</button>
          <button class="btn pill" data-lang="en">EN</button>
        </div>
        <a class="btn" href="#catalogue">Catalogue</a>
        <a class="btn" href="/contact.html">Contact</a>
        <a class="btn" href="#cart" aria-label="Panier">üõí</a>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-grid">
        <div class="card shadow">
          <h1 data-i18n-fr="Le meilleur de la gastronomie fran√ßaise, livr√© partout dans le monde" data-i18n-en="The finest French gastronomy, delivered worldwide">Le meilleur de la gastronomie fran√ßaise, livr√© partout dans le monde</h1>
          <p class="sub" data-i18n-fr="Tarifs de livraison en temps r√©el au paiement. Service premium." data-i18n-en="Live shipping rates at checkout. Premium service.">Tarifs de livraison en temps r√©el au paiement. Service premium.</p>
          <div class="cta">
            <a class="btn primary" href="#featured" data-i18n-fr="D√©couvrir la s√©lection" data-i18n-en="Discover the selection">D√©couvrir la s√©lection</a>
            <a class="btn" href="#vins" data-i18n-fr="Vins & spiritueux" data-i18n-en="Wines & spirits">Vins & spiritueux</a>
          </div>
          <div style="margin-top:14px" class="badge">‚úì Tarifs transporteurs en direct (EasyPost)</div>
        </div>
        <div class="imgbox">
          <div style="font-family:'Playfair Display',serif;text-align:center">
            <div style="font-size:28px;color:var(--gold);margin-bottom:8px">S√©lection Signature</div>
            <div style="opacity:.9">Foie gras ‚Ä¢ Caviar ‚Ä¢ Vins ‚Ä¢ Coffrets</div>
          </div>
        </div>
      </div>
    </section>

    <!-- VALUE PROPS -->
    <section class="value">
      <div class="container">
        <h2>Pourquoi choisir AJ Gourmet ?</h2>
        <div class="grid3">
          <div class="card"><strong>Tarifs live</strong><br><span class="muted">Comparateur transporteurs au paiement</span></div>
          <div class="card"><strong>Qualit√© authentique</strong><br><span class="muted">Labels AOP/IGP, s√©lection terroir</span></div>
          <div class="card"><strong>Emballage premium</strong><br><span class="muted">Cadeaux & protection renforc√©e</span></div>
        </div>
      </div>
    </section>

    <!-- FEATURED CATEGORIES -->
    <section class="feat" id="featured">
      <div class="container">
        <h2>Cat√©gories √† la une</h2>
        <div class="gridcats">
          <a class="cat" href="#vins">
            <img src="https://images.unsplash.com/photo-1514363187811-06e5f2b3b6d6?q=80&w=1600&auto=format&fit=crop" alt="Vins & spiritueux"/>
            <div class="cap">Vins & spiritueux</div>
          </a>
          <a class="cat" href="#luxe">
            <img src="https://images.unsplash.com/photo-1544027993-37dbfe43562a?q=80&w=1600&auto=format&fit=crop" alt="Foie gras & caviar"/>
            <div class="cap">Foie gras & caviar</div>
          </a>
          <a class="cat" href="#multimedia">
            <img src="https://images.unsplash.com/photo-1511707171634-5f897ff02aa9?q=80&w=1600&auto=format&fit=crop" alt="Multimedia"/>
            <div class="cap">Multimedia</div>
          </a>
        </div>
      </div>
    </section>

    <!-- CATALOG GRID -->
    <section class="section" id="catalogue">
      <div class="container">
        <h2>Catalogue</h2>
        <!-- Barre de filtres auto -->
        <div id="filters" class="cta" style="gap:8px; margin-bottom:12px"></div>
        <div class="grid" id="grid"></div>
      </div>
    </section>

    <!-- CHECKOUT (API) -->
    <section class="section">
      <div class="container card">
        <h2>Estimation d'exp√©dition</h2>
        <div class="grid3" style="grid-template-columns:1.2fr 1fr 1fr 1fr">
          <div>
            <label>Destination (pays)</label>
            <input id="country" class="btn" style="width:100%" placeholder="Ex: FR, US, BR" />
          </div>
          <div>
            <label>Code postal</label>
            <input id="postal" class="btn" style="width:100%" placeholder="Ex: 75008" />
          </div>
          <div>
            <label>Poids (kg)</label>
            <input id="weight" class="btn" type="number" step="0.1" value="1.2" style="width:100%" />
          </div>
          <div style="display:flex;align-items:flex-end">
            <button id="quote" class="btn primary" style="width:100%">Obtenir les tarifs</button>
          </div>
        </div>

        <div id="rates" style="margin-top:12px" class="notice">
          Saisissez une destination pour obtenir des tarifs multi-transporteurs (via API).
        </div>

        <div style="display:flex;gap:10px;margin-top:16px">
          <button id="checkout" class="btn">Payer (d√©mo Stripe)</button>
          <span class="notice">Le paiement de test ouvre une page Stripe (cl√©s de test).</span>
        </div>
      </div>
    </section>
    
    <!-- CART (mini) -->
    <section id="shop" class="section">
      <div class="container card">
        <h2>Panier</h2>
        <div style="display:flex; gap:12px; flex-wrap:wrap">
          <button class="btn" data-add='{"sku":"FG125","title":"Foie gras 125g","amount_eur":24.90}'>+ Foie gras 125g ‚Äî 24,90‚Ç¨</button>
          <button class="btn" data-add='{"sku":"CVR30","title":"Caviar 30g","amount_eur":59.00}'>+ Caviar 30g ‚Äî 59,00‚Ç¨</button>
          <button class="btn" data-add='{"sku":"BOR75","title":"Bordeaux AOC 75cl","amount_eur":14.50}'>+ Bordeaux 75cl ‚Äî 14,50‚Ç¨</button>
        </div>

        <div id="cart-box" class="notice" style="margin-top:12px">
          Panier vide.
        </div>

        <div style="display:flex; gap:10px; margin-top:12px">
          <button id="cart-clear" class="btn">Vider</button>
          <button id="cart-checkout" class="btn primary">Payer (Stripe)</button>
        </div>
      </div>
    </section>
  </main>

  <footer id="contact">
    <div class="container footergrid">
      <div>
        <div class="badge">ALAIN JANOLEVIAH</div>
        <p class="notice">¬© Alain Janoleviah Gourmet ‚Äî France. Tous droits r√©serv√©s.</p>
<p class="notice">
  <a href="/mentions-legales.html">Mentions l√©gales</a> ¬∑
  <a href="/cgv.html">CGV</a> ¬∑
  <a href="/politique-confidentialite.html">Confidentialit√©</a> ¬∑
  <a href="/contact.html">Contact</a>
</p>
      </div>
      <div>
        <strong>Liens</strong>
        <ul>
          <li><a href="#catalogue">Catalogue</a></li>
          <li><a href="#b2b">B2B (prochainement)</a></li>
          <li><a href="#legal">L√©gal</a></li>
        </ul>
      </div>
      <div>
        <strong>Contact</strong>
        <p class="notice">Email : contact@alainjanoleviahgourmet.com</p>
      </div>
    </div>
  </footer>

  <!-- AGE GATE (alcool) -->
  <div class="modal" id="ageGate">
    <div class="panel">
      <h3 style="margin:0 0 6px">Acc√®s r√©serv√©</h3>
      <p class="notice">Avez-vous 18 ans ou plus ?</p>
      <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:10px">
        <button class="btn" onclick="document.getElementById('ageGate').classList.remove('active')">Oui</button>
        <button class="btn" onclick="alert('D√©sol√©, contenu alcool non disponible.');">Non</button>
      </div>
    </div>
  </div>

  <!-- ‚úÖ SCRIPT PRINCIPAL (unique) -->
  <script>
  ;(function(){
    const $ = s => document.querySelector(s);
    const PH = 'https://images.unsplash.com/photo-1514860932651-0149f3f39a14?q=80&w=1200&auto=format&fit=crop';

    /* ---- Lecture du JSON ---- */
    function getData(){
      const el = document.querySelector('#site-data');
      if(!el) return null;
      try{ return JSON.parse(el.textContent || '{}'); }
      catch(e){ console.error('JSON site-data invalide', e); return null; }
    }

    /* ---- Catalogue + Filtres ---- */
    function renderCatalogue(){
      const data = getData();
      const grid = $('#grid');
      const filters = $('#filters');
      if(!data || !Array.isArray(data.catalog) || !grid){
        if(grid) grid.innerHTML = '<div class="card">Catalogue indisponible.</div>';
        return;
      }

      const PRODUCTS = [];
      const catsSet = new Set();

      for(const cat of data.catalog){
        const catName = cat.category || 'Divers';
        const list = Array.isArray(cat.products) ? cat.products : [];
        if(list.length) catsSet.add(catName);
        for(const p of list){
          PRODUCTS.push({
            sku: p.sku,
            title: p.title,
            cat: catName,
            price: p.price_eur || p.price || 0,
            flags: (p.shipping_flags||[]).concat(p.age_gate?['alcohol']:[]),
            img: (p.images && p.images[0]) || PH
          });
        }
      }

      function paint(list){
        grid.innerHTML = '';
        for(const p of list){
          const el = document.createElement('article');
          el.className = 'product';
          el.innerHTML = `
            <img src="${p.img}" alt="${p.title}"/>
            <div class="pbody">
              <div class="muted">${p.cat}</div>
              <div style="font-weight:700">${p.title}</div>
              <div class="price">${(Number(p.price)||0).toFixed(2)} ‚Ç¨</div>
              <div style="display:flex;gap:8px;flex-wrap:wrap">
                ${p.flags.map(f=>`<span class="pill muted" style="border:1px solid var(--line)">${f}</span>`).join('')}
              </div>
              <div style="display:flex;gap:10px;margin-top:6px">
                <button class="btn" data-add="${p.sku}">Ajouter</button>
                ${p.flags.includes('alcohol')? '<button class="btn" data-age>18+</button>':''}
              </div>
            </div>`;
          grid.appendChild(el);
        }
      }

      if (filters){
        filters.innerHTML = '';
        const mk = (label,val)=>{ const b=document.createElement('button'); b.className='btn pill'; b.dataset.filter=val; b.textContent=label; return b; };
        filters.appendChild(mk('Tout',''));
        [...catsSet].forEach(c=> filters.appendChild(mk(c,c)));
        filters.addEventListener('click',(e)=>{
          const btn = e.target.closest('[data-filter]'); if(!btn) return;
          const v = btn.dataset.filter;
          paint(v ? PRODUCTS.filter(p=>p.cat===v) : PRODUCTS);
        });
      }

      grid.addEventListener('click',(e)=>{
        const add = e.target.closest('[data-add]');
        if(add){ alert('Ajout√© au panier: '+add.getAttribute('data-add')); }
        if(e.target.closest('[data-age]')) document.getElementById('ageGate')?.classList.add('active');
      });

      paint(PRODUCTS);
    }

    /* ---- Devis transport + Checkout (d√©mo) ---- */
    function wireApi(){
      const q = s => document.querySelector(s);
      const ratesBox = q('#rates');

      function renderRates(out){
        if(!out) return 'Aucune r√©ponse.';
        if(out.error) return `Erreur: ${out.error}`;
        const mode = out.mode || 'demo';
        const rates = Array.isArray(out.rates)?out.rates:[];
        if(!rates.length) return `Aucun tarif retourn√© (${mode}).`;
        return `<strong>Tarifs (${mode}) :</strong> ` +
          rates.map(r=>`${r.carrier} ${r.service||''} ${r.days? r.days+'j ' : ''}‚Äî <b>${Number(r.price_eur).toFixed(2)}‚Ç¨</b>`).join(' ¬∑ ');
      }

      q('#quote')?.addEventListener('click', async ()=>{
        const country=(q('#country')?.value||'FR').trim().toUpperCase();
        const postal =(q('#postal')?.value ||'75008').trim();
        const weight = Math.max(0.1, parseFloat(q('#weight')?.value||'1.2'));
        if(ratesBox) ratesBox.textContent='Calcul en cours‚Ä¶';
        try{
          const res = await fetch('/api/rates', {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ country, postal, weight_kg: weight })
          });
          const out = await res.json().catch(()=>null);
          if(ratesBox) ratesBox.innerHTML = renderRates(out);
        }catch(e){
          if(ratesBox) ratesBox.textContent = 'Erreur r√©seau: '+e.message;
        }
      });

      q('#checkout')?.addEventListener('click', async ()=>{
        try{
          const r = await fetch('/api/create-checkout', {
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body: JSON.stringify({ items:[{ sku:'TEST', title:'Article test', amount_eur: 12.34, quantity:1 }] })
          });
          const out = await r.json();
          if (out.url) location.href = out.url; else alert(out.error || 'Paiement indisponible');
        }catch(e){ alert('Erreur r√©seau: '+e.message); }
      });
    }

    /* ---- Ancre douce ---- */
    function smoothAnchors(){
      document.querySelectorAll('a[href^="#"]').forEach(a=>{
        a.addEventListener('click', e=>{
          const id=a.getAttribute('href'); const t=document.querySelector(id);
          if(t){ e.preventDefault(); t.scrollIntoView({behavior:'smooth'}); }
        });
      });
    }
    /* ---- Panier persistant (localStorage) ---- */
    const CART_KEY = 'ajg_cart_v1';
    const money = n => Number(n).toFixed(2).replace('.', ',');

    const getCart = () => {
      try { return JSON.parse(localStorage.getItem(CART_KEY) || '[]'); }
      catch { return []; }
    };
    const saveCart = (items) => localStorage.setItem(CART_KEY, JSON.stringify(items));

    function renderCart(){
      const box = document.querySelector('#cart-box');
      if (!box) return;
      const items = getCart();
      if (!items.length){ box.innerHTML = 'Panier vide.'; return; }
      const total = items.reduce((s,i)=> s + (Number(i.amount_eur)||0) * (i.quantity||1), 0);
      box.innerHTML = `
        <table style="width:100%">
          <thead>
            <tr><th style="text-align:left">Produit</th><th>Qt√©</th><th>Prix</th><th></th></tr>
          </thead>
          <tbody>
            ${items.map((i,idx)=>`
              <tr>
                <td>${i.title}</td>
                <td>
                  <button class="btn" data-qty="${idx}" data-delta="-1">-</button>
                  <span style="display:inline-block;width:24px;text-align:center">${i.quantity||1}</span>
                  <button class="btn" data-qty="${idx}" data-delta="1">+</button>
                </td>
                <td>${money(i.amount_eur)}‚Ç¨</td>
                <td><button class="btn" data-del="${idx}">x</button></td>
              </tr>
            `).join('')}
          </tbody>
          <tfoot>
            <tr><td colspan="2"></td><td><b>Total</b></td><td><b>${money(total)}‚Ç¨</b></td></tr>
          </tfoot>
        </table>`;
    }

    // √âcouteurs globaux pour les actions panier
    document.addEventListener('click', (e)=>{
      // Ajouter (depuis les boutons de d√©mo ET depuis les cartes produits si tu passes en data-add JSON)
      const addBtn = e.target.closest?.('[data-add]');
      if (addBtn){
        let item;
        const val = addBtn.getAttribute('data-add');
        try {
          // si data-add contient un JSON (cas des boutons de d√©mo)
          item = JSON.parse(val);
        } catch {
          // sinon on construit un item minimal (cas cartes produits actuelles)
          item = { sku: val, title: val, amount_eur: 9.99 };
        }
        const cart = getCart();
        const found = cart.find(x=> x.sku===item.sku);
        if (found) found.quantity = (found.quantity||1)+1;
        else cart.push({ ...item, quantity: 1 });
        saveCart(cart);
        renderCart();
      }

      // Supprimer une ligne
      const delIdx = e.target.getAttribute?.('data-del');
      if (delIdx !== null && delIdx !== undefined){
        const cart = getCart();
        cart.splice(Number(delIdx),1);
        saveCart(cart);
        renderCart();
      }

      // Changer quantit√©
      const qtyIdx = e.target.getAttribute?.('data-qty');
      if (qtyIdx !== null && qtyIdx !== undefined){
        const delta = Number(e.target.getAttribute('data-delta')||1);
        const cart = getCart();
        const q = Math.max(1, (cart[qtyIdx].quantity||1) + delta);
        cart[qtyIdx].quantity = q;
        saveCart(cart);
        renderCart();
      }
    });

    // Boutons d√©di√©s du bloc Panier
    document.getElementById('cart-clear')?.addEventListener('click', ()=>{
      saveCart([]); renderCart();
    });

    document.getElementById('cart-checkout')?.addEventListener('click', async ()=>{
      const items = getCart();
      if (!items.length) return alert('Panier vide.');
      try{
        const r = await fetch('/api/create-checkout', {
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body: JSON.stringify({ items })
        });
        const out = await r.json();
        if (out.url) location.href = out.url;
        else alert(out.error || 'Paiement indisponible');
      }catch(e){ alert('Erreur r√©seau: '+e.message); }
    });

    /* ---- Boot ---- */
    document.addEventListener('DOMContentLoaded', ()=>{
      renderCatalogue();
      wireApi();
      smoothAnchors();
    });
  })();
  </script>
</body>
</html>



